PORTNAME=	nghttp2
DISTVERSION=	1.66.0
PORTREVISION=	1
CATEGORIES=	www net
MASTER_SITES=	https://github.com/${PORTNAME}/${PORTNAME}/releases/download/v${DISTVERSION}/
PKGNAMEPREFIX=	lib

MAINTAINER=	sunpoet@FreeBSD.org
COMMENT=	HTTP/2.0 C Library
WWW=		https://nghttp2.org/ \
		https://github.com/nghttp2/nghttp2

LICENSE=	MIT
LICENSE_FILE=	${WRKSRC}/COPYING

USES=		cmake cpe pathfix pkgconfig tar:xz
USE_LDCONFIG=	yes

CMAKE_ON=	ENABLE_LIB_ONLY \
		ENABLE_STATIC_LIB \
		CMAKE_DISABLE_FIND_PACKAGE_Jansson \
		CMAKE_DISABLE_FIND_PACKAGE_Jemalloc \
		CMAKE_DISABLE_FIND_PACKAGE_Libbrotlidec \
		CMAKE_DISABLE_FIND_PACKAGE_Libbrotlienc \
		CMAKE_DISABLE_FIND_PACKAGE_Libcares \
		CMAKE_DISABLE_FIND_PACKAGE_Libev \
		CMAKE_DISABLE_FIND_PACKAGE_Libevent \
		CMAKE_DISABLE_FIND_PACKAGE_Libnghttp3 \
		CMAKE_DISABLE_FIND_PACKAGE_Libngtcp2 \
		CMAKE_DISABLE_FIND_PACKAGE_Libngtcp2_crypto_openssl \
		CMAKE_DISABLE_FIND_PACKAGE_WolfSSL \
		CMAKE_DISABLE_FIND_PACKAGE_LibXml2
CMAKE_OFF=	ENABLE_DOC \
		ENABLE_FAILMALLOC \
		ENABLE_HTTP3

.include <bsd.port.mk>
